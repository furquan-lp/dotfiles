#!/bin/bash

case "$1" in ''|*[!0-9]*)
    echo "Error: date +%H \"$1\" is not a number" && exit ;;
esac

if [ -f /tmp/.colormode* ]; then
    rm /tmp/.colormode*
fi

xrdb ~/.Xresources
if [ "$1" -gt 17 ] || [ "$1" -lt 6 ]; then
    tmux source ~/.config/tmux/tmux.conf
    xrdb -merge ~/.config/X11/Xresources.kanagawa
    touch /tmp/.colormode_ran_dark
else
    tmux source ~/.config/tmux/tmux.light.conf
    xrdb -merge ~/.config/X11/Xresources.light
    touch /tmp/.colormode_ran_light
fi
gsettings set org.cinnamon.desktop.interface text-scaling-factor 1.2
gsettings set org.cinnamon.desktop.interface text-scaling-factor 1.1
sleep 1s
#tmux detach -s $(tmux display-message -p '#S')
uxterm &
sleep 1s
exit
